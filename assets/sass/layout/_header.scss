@use '../libs/mixins';
@use 'sass:map';

.header {
    width: mixins.$mainWidth;
    padding: 20px 50px;
    background-color: map.get(mixins.$colors, header-backgroud);
    @include mixins.flexbox();
    align-items: center;
    @include mixins.boxSizing();
    div {
        @include mixins.flexbox();
    }
    @include mixins.breakpoint1(){
        padding: 15px;
    }

    .header__img {
        width: 100px;
        @include mixins.breakpoint1(){
            width: 60px;
        }
    }
    
    .header__i {
        width: 50px;
        cursor: pointer;
        @include mixins.breakpoint1(){
            width: 30px;
        }
    }
    .header__i--menu {
        /* Get filter background color for svg https://isotropic.co/tool/hex-color-to-css-filter/ */
        filter: invert(72%) sepia(13%) saturate(1109%) hue-rotate(186deg) brightness(99%) contrast(91%);
    }
    .header__i__img {
        width: 80%;
    }
    .header__menu {
        width: 300px;
        z-index: 10;
        background: linear-gradient(#473a3a,#222);
        color: map.get(mixins.$colors, white-color);
        padding: 25px;
        @include mixins.boxSizing();
        height: 100%;
        position: fixed; /* Cart will hide and will show itself as menu */
        left: -100%;     /* Hide cart */
        top: 100px;      /* */
        box-shadow: -19px -1px 22px -15px rgba(0,0,0,0.30);
        transition: all .50s ease;
        &.show { //Class used to show menu with javascript function
            left: 0px;
        }
        img {
            filter: invert(100%); // Invert SVG color
            cursor: pointer;
            display: flex;        // Aling exit icon
            justify-self: right;
            
        }
        @include mixins.breakpoint2(){
            width: mixins.$mainWidth;
            top: 60px;
            box-shadow: none; /* since it will use all space we don't need box shadow */
        }
    }

    /* Basic styling for the main menu */
    .vertical-menu ul {
        list-style-type: none;
        margin: 0;
        padding: 0;
        width: 100%; /* Adjust as needed */
    }

    .vertical-menu li {
        transition: all 2.5s ease;
        & a {
        display: block;
        padding: 10px 15px;
        text-decoration: none;
        color: map.get(mixins.$colors, white-color);
        background: linear-gradient(#000,#222);
        border-bottom: 1px solid #ddd;
        }
    }
    
    /* Hide sub-menus by default */
    .vertical-menu ul ul {
        max-height: 0;          /* Hide menu (high value = 0) */
        overflow: hidden;       /* Hide content while it is collapsed */
        opacity: 0;             /* Transparent */
        transform: translateY(-4px); /* Slight upward shift */
        pointer-events: none;   /* Avoid focus / hover while it is closed */
        transition: max-height .7s ease, opacity .6s ease, transform .6s ease; /* Slower effect by adjusting duration */
    }

    /* Show sub-menus on hover of the parent list item */
    .vertical-menu li:hover {
        //transform: scale(1.05);
        & > ul {
            /* Estado expandido */
            max-height: 500px; /* Adjust value if more items are added */
            opacity: 1;
            transform: translateY(0);
            pointer-events: auto;
        }
    }

    /* Open with keyboard (accesibility) when the link receives focus and navigate inside */
    .vertical-menu li:focus-within > ul {
        max-height: 500px;
        opacity: 1;
        transform: translateY(0);
        pointer-events: auto;
    }
}